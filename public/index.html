<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Zenzoro – Crypto Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/styles.css" />
  <!-- Chart.js for the history chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="app-shell">
    <!-- Sidebar / Auth -->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-logo">Z</div>
        <div class="brand-text">
          <h1>Zenzoro</h1>
          <p>Investor dashboard</p>
        </div>
      </div>

      <section class="auth-card" id="auth-section">
        <h2>Sign in</h2>
        <p class="auth-helper">Demo login only – no real accounts yet.</p>
        <form id="login-form">
          <label>
            Name
            <input type="text" id="login-name" placeholder="Satoshi Nakamoto" required />
          </label>
          <label>
            Password
            <input type="password" id="login-password" placeholder="••••••••" required />
          </label>
          <button type="submit" class="btn-primary">Sign in</button>
        </form>
      </section>

      <section class="auth-card hidden" id="profile-section">
        <div class="profile-header">
          <div class="avatar" id="avatar-letter">U</div>
          <div>
            <h2 id="profile-name"></h2>
            <p class="profile-subtitle">Demo investor</p>
          </div>
        </div>

        <div class="profile-metrics">
          <div>
            <span class="metric-label">Portfolio Value</span>
            <span class="metric-value" id="portfolio-value">$0.00</span>
          </div>
          <div>
            <span class="metric-label">24h Change</span>
            <span class="metric-chip" id="portfolio-change">—</span>
          </div>
        </div>

        <button id="logout-btn" class="btn-ghost">Log out</button>
      </section>

      <section class="status-card">
        <h3>Backend status</h3>
        <pre id="status-output" class="status-output">Checking...</pre>
        <button id="refresh-status" class="btn-small">Refresh status</button>
      </section>
    </aside>

    <!-- Main dashboard -->
    <main class="main">
      <header class="main-header">
        <div>
          <h2>Crypto Portfolio</h2>
          <p class="muted">
            Real-time prices from your Zenzoro backend. Demo portfolio only.
          </p>
        </div>
        <button id="refresh-prices" class="btn-primary">Refresh prices</button>
      </header>

      <!-- Market overview cards -->
      <section class="panel">
        <div class="panel-header">
          <h3>Market Overview</h3>
          <div class="symbol-tabs">
            <button data-symbol="BTC" class="tab active">BTC</button>
            <button data-symbol="ETH" class="tab">ETH</button>
            <button data-symbol="SOL" class="tab">SOL</button>
          </div>
        </div>

        <div class="grid-cards" id="market-grid">
          <!-- cards filled by JS -->
        </div>
      </section>

      <!-- Portfolio breakdown -->
      <section class="panel">
        <div class="panel-header">
          <h3>Your Holdings</h3>
          <p class="muted">Pre-configured demo portfolio. Values update with live prices.</p>
        </div>

        <table class="portfolio-table">
          <thead>
            <tr>
              <th>Asset</th>
              <th>Amount</th>
              <th>Price</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody id="portfolio-table-body">
            <!-- rows from JS -->
          </tbody>
        </table>
      </section>

      <!-- BTC history chart -->
      <section class="panel">
        <div class="panel-header">
          <h3>BTC – 7 Day History</h3>
          <div class="panel-controls">
            <span class="muted" id="history-hint">Loading chart...</span>
          </div>
        </div>
        <div class="chart-wrapper">
          <canvas id="history-chart"></canvas>
        </div>
      </section>
    </main>
  </div>

  <script src="/app.js" defer></script>
</body>
</html>